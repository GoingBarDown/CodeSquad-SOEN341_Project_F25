<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Organizer Events Dashboard</title>
  
  <!-- AUTHENTICATION CHECK - RUN BEFORE PAGE LOADS -->
  <script>
    (function() {
      const userData = localStorage.getItem('userData');
      
      if (!userData) {
        alert('‚ùå Please login first');
        window.location.href = 'organizer-login.html';
        return;
      }
      
      try {
        const user = JSON.parse(userData);
        if (user.role !== 'organizer') {
          alert('‚ùå You do not have permission to access this page. Only organizers can access this area.');
          window.location.href = '../student-frontend/index.html';
          return;
        }
      } catch (e) {
        console.error('Error checking organizer access:', e);
        localStorage.clear();
        window.location.href = 'organizer-login.html';
      }
    })();
  </script>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/organizerStyle.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
</head>

<body>
  <header>
    <h1>CODESQUAD EVENTS</h1>
    <button id="dot">‚ò∞</button>
  </header>

  <div id="menu">
    <nav>
      <a href="organizer-dashboard.html">DASHBOARD</a>
      <a href="organizer-create-event.html">CREATE EVENT</a>
      <a href="organizer-profile.html">PROFILE</a>
      <a href="organizer-manage-events.html" class="active">ANALYTICS</a>
      <a href="organizer-login.html" id="loginLogoutLink">LOGIN</a>
    </nav>
  </div>

  <div id="subbar">
  <div class="subbar-left">
    <span><b>Welcome back, Organizer üëã</b></span>
  </div>

  <div class="subbar-right">
    <a id="createEventBtn" href="organizer-create-event.html">Create Event</a>
    <!-- <button id="createEventBtn">+ Create Event</button> -->
    <a id="button" href="organizer-profile.html">Profile</a>
    <button id="logoutBtn">Logout</button>
  </div>
</div>

<section id="dashboardHero">
  <h2>Welcome to Your Event Hub üéüÔ∏è</h2>
  <p>Manage your upcoming events, create new experiences, and connect with your community - all in one place.</p>
</section>


<main class="main-container">
    <aside class="side-panel">
      <h3><b>Search & Filters</b></h3>
      <br>
      <div class="search-box">
        <input type="text" id="search" placeholder="Search events..." />
      </div>
      <br>
        <div class="filter-tags">
              <select id="filterCategory">
                <option value="" align="center">Category</option>
                <option>Workshop</option>
                <option>Conference</option>
                <option>Competition</option>
                <option>Lecture</option>
                <option>Networking</option>
                <option>Social</option>
              </select>
              <select id="filterStatus">
                <option value="" align="center">Status</option>
                <option value="draft">Draft</option>
                <option value="published">Published</option>
                <option value="cancelled">Cancelled</option>
              </select>
        </div>
        <button id="clearFilters" type="button" class="clear-btn filter-tags">Clear Filters</button>

    </aside>
        
        <section class = "content-view">
            <h2><b>Your Events</b></h2>
                <div id="eventsList">
                </div>
        </section>
</main>

  <script src="js/api.js"></script>
  <script src="js/organizer-dashboard.js"></script>
</body>
</html>